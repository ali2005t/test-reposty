<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>الرئيسية - Ta3leemy</title>

    <link rel="stylesheet" href="../assets/css/student.css">
    <link rel="stylesheet" href="../assets/css/student.css">
    <link rel="stylesheet" href="../assets/css/student-desktop.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        /* Row Style for Trainings */
        .training-row {
            background: white;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            transition: transform 0.2s;
            cursor: pointer;
            border: 1px solid #f1f5f9;
        }

        .training-row:active {
            transform: scale(0.98);
        }

        .training-info {
            flex: 1;
            text-align: right;
        }

        .training-title {
            font-weight: bold;
            color: #1e293b;
            font-size: 1.1rem;
            margin-bottom: 5px;
        }

        .training-meta {
            color: #64748b;
            font-size: 0.9rem;
        }

        .training-logo {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #e2e8f0;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-left: 15px;
            color: var(--primary-color);
            font-size: 1.5rem;
        }

        /* Center Card Style */
        #center-card {
            background: white;
            border-radius: 20px;
            padding: 40px 20px;
            text-align: center;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
            max-width: 400px;
            margin: 50px auto;
            cursor: pointer;
            transition: all 0.3s;
        }

        #center-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.15);
        }
    </style>
    <script src="../assets/js/student-common.js" defer></script>
    <style>
        .animated-join-btn {
            background: linear-gradient(135deg, var(--primary-color, #6366f1), #4f46e5);
            color: white;
            border: none;
            padding: 12px 40px;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(99, 102, 241, 0.3);
            display: inline-flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s;
            text-decoration: none;
        }

        .animated-join-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(99, 102, 241, 0.5);
        }
    </style>
</head>

<body>

    <header class="app-header"
        style="display:flex; justify-content:space-between; align-items:center; background:white; height:60px; padding:0 20px;">
        <div style="display:flex; gap:15px; align-items:center;">
            <!-- Notification Button with Logic -->
            <button id="notif-btn" style="background:none; border:none; color:#1e293b; position:relative;">
                <i class="fas fa-bell" style="font-size:1.2rem;"></i>
                <span id="notif-badge"
                    style="position:absolute; top:-2px; right:-2px; background:red; height:8px; width:8px; border-radius:50%; display:none;"></span>
            </button>
        </div>
        <h1 class="app-title" id="header-platform-title"
            style="font-size:1.1rem; margin:0; font-weight:bold; color:#1e293b;">المنصة التعليمية</h1>
    </header>

    <main class="app-content" style="padding: 0; padding-bottom: 80px;">

        <!-- LANDING VIEW WRAPPER -->
        <div id="landing-view">
            <!-- Hero Section -->
            <div class="hero-section"
                style="background: linear-gradient(135deg, var(--app-primary, #6366f1) 0%, #4338ca 100%); color: white; padding: 50px 20px 40px; border-bottom-left-radius: 35px; border-bottom-right-radius: 35px; text-align: center; position: relative; overflow: hidden; box-shadow: 0 10px 30px -10px var(--app-primary, #6366f1);">

                <div style="position: relative; z-index: 2;">
                    <!-- Logo -->
                    <div class="platform-logo-lg"
                        style="width: 110px; height: 110px; background: white; border-radius: 50%; margin: 0 auto 20px; display: flex; align-items: center; justify-content: center; box-shadow: 0 10px 20px rgba(0,0,0,0.1); border: 4px solid rgba(255,255,255,0.2);">
                        <img id="platform-logo-img" src=""
                            style="width: 100%; height: 100%; border-radius: 50%; object-fit: cover; display: none;">
                        <i id="platform-logo-icon" class="fas fa-university"
                            style="font-size: 3rem; color: var(--app-primary, #6366f1);"></i>
                    </div>

                    <h2 id="platform-name-hero"
                        style="font-size: 1.8rem; font-weight: 800; margin-bottom: 10px; text-shadow: 0 2px 4px rgba(0,0,0,0.1); min-height: 40px;">
                    </h2>
                    <p id="platform-bio"
                        style="font-size: 1rem; opacity: 0.95; max-width: 500px; margin: 0 auto 25px; line-height: 1.6; min-height: 20px;">

                    </p>

                    <div id="stats-container"
                        style="display: none; justify-content: center; gap: 20px; margin-bottom: 30px;">
                        <div class="stat-item"
                            style="background: rgba(255,255,255,0.15); padding: 10px 25px; border-radius: 16px; backdrop-filter: blur(5px); border: 1px solid rgba(255,255,255,0.1);">
                            <i class="fas fa-users" style="font-size: 1.2rem; margin-bottom: 5px; display: block;"></i>
                            <div id="student-counter-display" style="font-weight: 900; font-size: 1.4rem;">0</div>
                            <div style="font-size: 0.8rem; opacity: 0.9;">طالب</div>
                        </div>
                    </div>

                    <button onclick="showCurricula()" class="action-btn-white"
                        style="background: white; color: var(--app-primary, #6366f1); border: none; padding: 14px 40px; border-radius: 50px; font-weight: 800; font-size: 1.1rem; box-shadow: 0 5px 15px rgba(0,0,0,0.1); cursor: pointer; transition: transform 0.2s;">
                        انضم الينا <i class="fas fa-arrow-left" style="font-size:0.9rem;"></i>
                    </button>
                </div>

                <!-- Decorative Circles -->
                <div
                    style="position: absolute; top: -50px; right: -50px; width: 200px; height: 200px; background: rgba(255,255,255,0.05); border-radius: 50%;">
                </div>
                <div
                    style="position: absolute; bottom: -30px; left: -30px; width: 120px; height: 120px; background: rgba(255,255,255,0.05); border-radius: 50%;">
                </div>
            </div>

            <div style="padding: 25px 20px;">
                <!-- Location (If exists) -->
                <div id="location-card"
                    style="display: none; background: white; padding: 16px; border-radius: 16px; margin-bottom: 25px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05); border: 1px solid #f1f5f9; align-items: center; gap: 15px;">
                    <div
                        style="width: 45px; height: 45px; background: #eff6ff; border-radius: 12px; display: flex; align-items: center; justify-content: center; color: var(--primary-color);">
                        <i class="fas fa-map-marker-alt" style="font-size: 1.2rem;"></i>
                    </div>
                    <div>
                        <h4 style="margin: 0 0 5px 0; font-size: 0.95rem; color: #1e293b;">مقرنا</h4>
                        <p id="location-text" style="margin: 0; font-size: 0.9rem; color: #64748b; line-height: 1.4;">
                            ...
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <div style="padding: 25px 20px;">
            <!-- Courses Section -->
            <div id="courses-section" style="display: none; animation: fadeIn 0.4s ease-out;">

                <!-- Back Button -->
                <button onclick="showLanding()"
                    style="background:transparent; border:none; color:#1e293b; font-weight:700; display:flex; align-items:center; gap:8px; margin-bottom:20px; cursor:pointer; font-size:1rem; padding:10px 0;">
                    <i class="fas fa-arrow-right" style="color:var(--primary-color);"></i> عودة للرئيسية
                </button>

                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h3
                        style="margin: 0; color: #1e293b; font-size: 1.2rem; display: flex; align-items: center; gap: 8px;">
                        <i class="fas fa-layer-group" style="font-size: 1rem; color: var(--primary-color);"></i>
                        المراحل الدراسية
                    </h3>
                </div>

                <div id="courses-list">
                    <!-- JS Rows -->
                    <div style="text-align:center; padding: 2rem; color: #94a3b8;">
                        <i class="fas fa-spinner fa-spin"></i> جاري التحميل...
                    </div>
                </div>
            </div>

        </div>

    </main>

    <script>
        function showCurricula() {
            document.getElementById('landing-view').style.display = 'none';
            document.getElementById('courses-section').style.display = 'block';
            window.scrollTo(0, 0);
        }

        function showLanding() {
            document.getElementById('courses-section').style.display = 'none';
            document.getElementById('landing-view').style.display = 'block';
            window.scrollTo(0, 0);
        }
    </script>

    <nav class="bottom-nav">
        <a href="home.html" class="nav-item active">
            <i class="fas fa-home"></i>
            <span>الرئيسية</span>
        </a>
        <a href="my-courses.html" class="nav-item">
            <i class="fas fa-book-reader"></i>
            <span>مشترياتي</span>
        </a>
        <a href="support.html" class="nav-item">
            <i class="fas fa-headset"></i>
            <span>الدعم</span>
        </a>
        <a href="profile.html" class="nav-item">
            <i class="fas fa-user"></i>
            <span>حسابي</span>
        </a>
    </nav>

    <!-- Template -->
    <template id="course-row-template">
        <div class="training-row">
            <div class="training-logo">
                <i class="fas fa-book"></i> <!-- Or Image -->
            </div>
            <div class="training-info">
                <div class="training-title">عنوان الدورة</div>
                <div class="training-meta">
                    <span class="instructor">اسم المعلم</span>
                </div>
            </div>
            <i class="fas fa-chevron-left" style="color:#cbd5e1;"></i>
        </div>
    </template>

    <script type="module" src="../assets/js/firebase-config.js"></script>
    <script type="module" src="../assets/js/context-resolver.js"></script>
    <script type="module" src="../assets/js/student-home.js"></script>
    <script type="module" src="../assets/js/notification-manager.js"></script>
</body>

</html>